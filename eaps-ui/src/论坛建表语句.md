# 大学生就业帮扶系统 - 论坛与私聊相关 MySQL 建表语句

---

## 1. 论坛帖子表 forum_post

```sql
CREATE TABLE forum_post (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '帖子ID',
    title VARCHAR(200) NOT NULL COMMENT '帖子标题',
    content TEXT NOT NULL COMMENT '帖子内容',
    author_id BIGINT NOT NULL COMMENT '发帖学生用户ID',
    author_name VARCHAR(50) NOT NULL COMMENT '发帖学生姓名',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '发布时间',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    comment_count INT NOT NULL DEFAULT 0 COMMENT '评论数',
    like_count INT NOT NULL DEFAULT 0 COMMENT '点赞数',
    is_deleted TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='论坛帖子表';
```

## 2. 论坛评论表 forum_comment

```sql
CREATE TABLE forum_comment (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '评论ID',
    post_id BIGINT NOT NULL COMMENT '所属帖子ID',
    author_id BIGINT NOT NULL COMMENT '评论学生用户ID',
    author_name VARCHAR(50) NOT NULL COMMENT '评论学生姓名',
    content TEXT NOT NULL COMMENT '评论内容',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '评论时间',
    is_deleted TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除',
    INDEX idx_post_id (post_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='论坛评论表';
```

## 3. S-S 私聊会话表 chat_session（如已存在可复用，无需重复建表）

```sql
CREATE TABLE chat_session (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '会话ID',
    type VARCHAR(10) NOT NULL COMMENT '会话类型（SS）',
    group_id BIGINT DEFAULT NULL COMMENT '群组ID（私聊为NULL）',
    participant1_id BIGINT NOT NULL COMMENT '学生A用户ID',
    participant2_id BIGINT NOT NULL COMMENT '学生B用户ID',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    last_active_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '最后活跃时间',
    status VARCHAR(20) DEFAULT 'active' COMMENT '状态',
    is_readonly TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否只读'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='聊天会话表';
```

## 4. 聊天消息表 chat_message（如已存在可复用，无需重复建表）

```sql
CREATE TABLE chat_message (
    id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '消息ID',
    session_id BIGINT NOT NULL COMMENT '会话ID',
    sender_id BIGINT NOT NULL COMMENT '发送者ID',
    content TEXT COMMENT '消息内容',
    content_type VARCHAR(20) DEFAULT 'text' COMMENT '消息类型',
    file_path VARCHAR(255) DEFAULT NULL COMMENT '附件路径',
    sent_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '发送时间',
    INDEX idx_session_id (session_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='聊天消息表';
```

---

如需增加其他字段或索引可随时补充说明。
